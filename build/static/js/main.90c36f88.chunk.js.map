{"version":3,"sources":["components/Square.jsx","components/Board.jsx","helpers/helpers.js","components/Game.jsx","components/index.jsx","index.js"],"names":["Square","props","react_default","a","createElement","className","concat","value","id","onClick","Board","squares","map","row","i","key","_ref","j","src_components_Square","calculateWinner","output","winner","positions","forEach","_ref2","Object","slicedToArray","_ref2$","b","_ref2$2","c","d","_ref2$3","e","f","Game","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","history","Array","fill","xIsNext","Math","random","stepNumber","movesOrderIsDescending","replaying","autoReplayed","replay","bind","assertThisInitialized","_this$state","current","toConsumableArray","document","querySelector","classList","add","_this2","recursion","arguments","length","undefined","step","nextStep","setState","setTimeout","_this$state2","slice","square","objectSpread","lastMove","_this$state3","_lastMove","addEventListener","remove","_this3","_this$state4","status","every","_ref3","moves","_ref4","move","jumpTo","src_components_Board","handleClick","style","fontSize","animation","reverse","React","Component","index","src_components_Game","ReactDOM","render","src_components","getElementById"],"mappings":"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","file":"static/js/main.90c36f88.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Square.css';\r\n\r\nconst Square = (props) => {\r\n  return (\r\n    <button className={`square played-${props.value}`} id={props.id}\r\n      onClick={props.onClick}\r\n    >\r\n      {props.value}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Square;\r\n","import React from 'react';\r\nimport Square from './Square';\r\nimport './Board.css';\r\n\r\nconst Board = (props) => {\r\n  return (\r\n    props.squares.map((row, i) =>\r\n      <div className=\"board-row\" key={`row-${i}`}>\r\n        {row.map(({ value }, j) =>\r\n          <Square\r\n            id={`square-${i}-${j}`}\r\n            key={`square-${i}-${j}`}\r\n            value={value}\r\n            onClick={() => props.onClick(i, j)}\r\n          />\r\n        )}\r\n      </div>\r\n    )\r\n  );\r\n}\r\n\r\nexport default Board;\r\n","export function calculateWinner(squares) {\r\n  const lines = [\r\n    [[0, 0], [0, 1], [0, 2]],\r\n    [[1, 0], [1, 1], [1, 2]],\r\n    [[2, 0], [2, 1], [2, 2]],\r\n    [[0, 0], [1, 0], [2, 0]],\r\n    [[0, 1], [1, 1], [2, 1]],\r\n    [[0, 2], [1, 2], [2, 2]],\r\n    [[0, 0], [1, 1], [2, 2]],\r\n    [[0, 2], [1, 1], [2, 0]],\r\n  ];\r\n\r\n  let output = { winner: null, positions: false };\r\n  lines.forEach(([[a, b], [c, d], [e, f]]) => {\r\n    if (squares[a][b].value && squares[a][b].value === squares[c][d].value && squares[a][b].value === squares[e][f].value)\r\n      output = { winner: squares[a][b].value, positions: [[a, b], [c, d], [e, f]] };\r\n  })\r\n  return output;\r\n};\r\n","import React from 'react';\r\nimport Board from './Board';\r\nimport { calculateWinner } from '../helpers/helpers';\r\nimport './Game.css';\r\n\r\nclass Game extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: [\r\n        {\r\n          squares: Array(3).fill(Array(3).fill({ value: null })),\r\n        },\r\n      ],\r\n      xIsNext: Math.random() < 0.5,\r\n      stepNumber: 0,\r\n      movesOrderIsDescending: true,\r\n      replaying: false,\r\n      autoReplayed: false,\r\n    };\r\n\r\n    this.replay = this.replay.bind(this);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const {\r\n      history,\r\n      stepNumber,\r\n    } = this.state;\r\n\r\n    const current = history[stepNumber];\r\n    const squares = [...current.squares];\r\n    const { positions } = calculateWinner(squares);\r\n    if (positions)\r\n      positions.forEach(([a, b]) => document.querySelector(`#square-${a}-${b}`).classList.add('winning'))\r\n  }\r\n\r\n  replay(recursion = 'initial') {\r\n    const {\r\n      history,\r\n    } = this.state;\r\n    const step = recursion === 'initial' ? 0 : recursion;\r\n    const nextStep = step + 1;\r\n    if (nextStep === history.length) {\r\n      this.setState({\r\n        stepNumber: step,\r\n        xIsNext: (step % 2) === 0,\r\n        replaying: false,\r\n        autoReplayed: true,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        stepNumber: step,\r\n        xIsNext: (step % 2) === 0,\r\n        replaying: true,\r\n      }, () => {\r\n        if (nextStep < history.length) {\r\n          setTimeout(() => {\r\n            this.replay(nextStep);\r\n          }, 500);\r\n        }\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  handleClick(i, j) {\r\n    const {\r\n      xIsNext,\r\n      replaying,\r\n      stepNumber,\r\n    } = this.state;\r\n\r\n    if(replaying)\r\n      return;\r\n\r\n    const history = this.state.history.slice(0, stepNumber + 1);\r\n    const current = history[history.length - 1];\r\n    const squares = [...current.squares.map(row => row.map(square => ({ ...square })))];\r\n    const { winner: alreadyWon } = calculateWinner(squares);\r\n\r\n    if (alreadyWon || squares[i][j].value)\r\n      return;\r\n\r\n    squares[i][j].value = xIsNext ? 'X' : 'O';\r\n    this.setState({\r\n      history: [\r\n        ...history,\r\n        { squares, lastMove: [i, j] }\r\n      ],\r\n      xIsNext: !xIsNext,\r\n      stepNumber: history.length,\r\n    });\r\n  }\r\n\r\n\r\n  jumpTo(step, lastMove) {\r\n    const {\r\n      history,\r\n      replaying,\r\n    } = this.state;\r\n    \r\n    if(replaying)\r\n      return;\r\n\r\n    if (lastMove) {\r\n      const [a, b] = lastMove;\r\n      const current = history[step];\r\n      const squares = [...current.squares.map(row => row.map(square => ({ ...square })))];\r\n\r\n      this.setState({\r\n        history: [\r\n          ...history.slice(0, step),\r\n          { squares, lastMove },\r\n          ...history.slice(step + 1),\r\n        ],\r\n        stepNumber: step,\r\n        xIsNext: (step % 2) === 0,\r\n      }, () => {\r\n        const square = document.querySelector(`#square-${a}-${b}`);\r\n        square.addEventListener('animationend', () => square.classList.remove('selected'));\r\n        square.classList.add('selected');\r\n      });\r\n    } else {\r\n      this.setState({\r\n        stepNumber: step,\r\n        xIsNext: (step % 2) === 0,\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      history,\r\n      xIsNext,\r\n      replaying,\r\n      stepNumber,\r\n      autoReplayed,\r\n      movesOrderIsDescending,\r\n    } = this.state;\r\n\r\n    const current = history[stepNumber];\r\n    const squares = [...current.squares];\r\n    const { winner } = calculateWinner(squares);\r\n    let status = `Next player: ${xIsNext ? 'X' : 'O'}`;\r\n    if (winner) {\r\n      status = `The Winner is: ${winner}`;\r\n      if (!autoReplayed)\r\n        setTimeout(() => this.replay(), 500);\r\n    }\r\n    else if (squares.every(row => row.every(({ value }) => value)))\r\n      status = 'Draw!';\r\n\r\n    const moves = history.map(({ lastMove }, move) =>\r\n      <li key={move}>\r\n        <button className=\"last-move-button\"\r\n          onClick={() => this.jumpTo(move, lastMove)}\r\n        >\r\n          {move ?\r\n            `Go to move #${move} ${lastMove ? `(${lastMove[0] + 1}, ${lastMove[1] + 1})` : ''}`\r\n            : 'Go to game start'\r\n          }\r\n        </button>\r\n      </li>\r\n    );\r\n\r\n    return (\r\n      <div className=\"game\">\r\n        <div className=\"game-board\">\r\n          <Board\r\n            squares={squares}\r\n            onClick={(i, j) => this.handleClick(i, j)}\r\n          />\r\n        </div>\r\n        <div className=\"game-info\">\r\n          <div className=\"status\">{status}</div>\r\n          <div className=\"options-buttons\">\r\n            <button className=\"option-button\"\r\n              onClick={() => this.setState({ movesOrderIsDescending: !movesOrderIsDescending })}\r\n            >\r\n              {movesOrderIsDescending ? '🡅' : '🡇'}\r\n            </button>\r\n            <button className=\"option-button\"\r\n              onClick={() => {\r\n                if (!replaying)\r\n                  this.replay();\r\n              }}\r\n              style={{ fontSize: '18px' }}\r\n            >\r\n              <div style={{ animation: replaying ? '1s spin infinite linear' : 'none' }}>⥁</div>\r\n            </button>\r\n          </div>\r\n          <ol className=\"last-moves\">\r\n            {movesOrderIsDescending ?\r\n              moves\r\n              : [...moves].reverse()\r\n            }\r\n          </ol>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Game;\r\n","import React from 'react';\r\nimport Game from './Game';\r\nimport './index.css';\r\n\r\nconst index = (props) => {\r\n  return (\r\n    <Game />\r\n  );\r\n}\r\n\r\nexport default index;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport TicTacToe from './components/'\n\nReactDOM.render(\n  <TicTacToe />,\n  document.getElementById('app')\n);\n"],"sourceRoot":""}